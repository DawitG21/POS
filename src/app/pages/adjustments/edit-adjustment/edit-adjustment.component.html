<div class="container">
  <div class="progress" *ngIf="busy">
      <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75"
          aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
  </div>
  <br />

  <div class="row">
      <div class="col-sm-1">
          <button type="button" class="btn btn-outline-light" (click)="goBack()"><h4><i class="bi bi-arrow-left"></i></h4></button>
      </div>
      <div class="col-sm-8">
          <h1 class="center">Edit Adjustment</h1>
      </div>
      <div class="col-sm-2">
        <button type="submit" class="btn btn-outline-primary w-100 float-right" (click)="save()">
            Save
        </button>
    </div>
  </div>
</div>
<div class="container">
  <div class="form-group mb-3">
      <form #f="ngForm" [formGroup]="form" id="purchaseForm">
  <br>
          <!-- First Row -->
          <div class="row">
              <div class="col-md-4">
                  <label class="form-label" for="description">Description</label>
                  <input type="name" class="form-control" id="description" placeholder="Description " value="" formControlName="description" />
                  <div *ngIf="!form.get('description')?.valid && form.get('description')?.touched" class="help-block">
                      Description is required
                  </div>
              </div>
          </div>
          <br>

          <!-- Product Section -->
          <div class="row" formArrayName="products">
              <div *ngFor="let productGroup of products.controls; let i = index" [formGroupName]="i" class="col-md-12 mb-3">
                  <br>
                  <div class="row">

                      <div class="col-md-3">
                        <label class="form-label" for="productname">Product</label>
                        <input type="text" class="form-control" id="productname" formControlName="productname" readonly/>
                      </div>

                      <div class="col-md-3">
                          <label class="form-label" for="quantity">Quantity</label>
                          <input type="number" class="form-control" id="quantity" placeholder="Enter quantity" formControlName="quantity" />
                          <div *ngIf="!productGroup.get('quantity')?.valid && productGroup.get('quantity')?.touched" class="help-block">
                              Quantity is required
                          </div>
                      </div>

                      <div class="col-md-2">
                          <label class="form-label" for="rate">Rate</label>
                          <input type="number" class="form-control" id="rate" placeholder="Enter rate" formControlName="rate" />
                          <div *ngIf="!productGroup.get('rate')?.valid && productGroup.get('rate')?.touched" class="help-block">
                              Rate is required
                          </div>
                      </div>

                      <!-- <div class="col-md-2 d-flex align-items-center justify-content-center">
                          <button type="button" class="btn btn-danger" (click)="removeProduct(i)">Remove</button>
                      </div> -->
                      
                      <label class="form-label" for="productId"></label>
                      <input type="hidden" class="form-control" id="productId" formControlName="productId" readonly/>
                  </div>
              </div>

          </div>
          <br />

          <!-- Submit Button -->
          <!-- <div class="row">
              <div class="col-md-12">
                  <button type="submit" class="btn btn-primary" (click)="save()">Edit Adjustment</button>
              </div>
          </div> -->

      </form>
  </div>
</div>